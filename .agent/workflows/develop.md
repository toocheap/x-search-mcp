---
description: 開発ワークフロー — 計画・協議・実装・テスト・検証の全サイクル
---

# 開発ワークフロー

機能追加・バグ修正・リファクタリングの全サイクルを実行する。

## 1. 計画 (Plan)

1. ユーザーの要求を分析し、変更対象のファイル・関数を特定する
2. `task.md` を作成し、作業項目をチェックリスト化する
3. `implementation_plan.md` を作成し、技術的な設計を記述する

## 2. チーム協議

4. 以下の3つの視点で実装方針をレビューする:
   - **実装者視点**: 技術的実現可能性、コーディング規約との整合性を確認
   - **QA視点**: テスト戦略、カバレッジへの影響、正常系・異常系のテストケース洗い出し
   - **計画担当視点**: スコープの妥当性、他機能への影響を確認
5. **リーダー判断**: 実装が目的に合致しているか確認する。一時しのぎの修正になっていないか、根本的な解決になっているかを判断する
6. `implementation_plan.md` を議論結果で更新し、ユーザーにレビューを依頼する

## 3. 実装 (Implement)

7. 承認された計画に基づきコードを作成・修正する
8. CLAUDE.md のコーディング規約に従う:
   - コメントは英語
   - すべての関数に型ヒント
   - ツール入力は Pydantic `BaseModel` + `ConfigDict(extra="forbid")`
   - ツール関数は `async def`
   - 環境変数は関数内で動的に取得

## 4. テスト (Test)

9. `/qa` ワークフローを実行してテストを実施する

## 5. 検証 (Verify)

10. テスト結果を確認し、すべてのテストがパスすることを検証する
11. カバレッジレポートを確認し、100% を目指す
12. `walkthrough.md` を作成し、変更内容とテスト結果を記録する
